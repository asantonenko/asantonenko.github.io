<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
 <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
 <script>hljs.highlightAll();</script>
 <script type="text/javascript" async
   src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
 </script>

<h2>Ініціалізація змінних</h2>

<p>Оголошення змінних виду</p>

<p><code><strong>int </strong>x, y, z;</code></p>

<p>має недолік. Якщо це оголошення є локальним (тобто міститься всередині деякого блоку, і пам'ять під них виділяється під час роботи програми – докладніше див. наступний крок), то оголошені змінні не отримають жодного змістовного значення – у них буде знаходитися сміття. Спробую пояснити, чому це так у мовах C/C++ (принаймні для простих типів). Уявіть, що ви купуєте певну земельну ділянку. Питання: що на ній буде знаходитися? Якщо ви не докладете жодних зусиль, то на ній буде те саме, що було до покупки – може бути якась споруда, а може й просто заросла бур'яном. Аналогія зі змінною – якщо під час роботи програми (а не відразу, на початку роботи програми) виділяється пам'ять під нову змінну, то пам'ять щось містила до створення змінної (пам'ять комп'ютера завжди щось містить – хоч нульові значення – вона не може бути порожньою).</p>

<p>Отже, у випадку оголошення локальних змінних простих типів, таких як, наприклад, <code><strong>int</strong></code>, у той момент, коли відбувається виділення пам'яті під змінну, її вміст не очищається, і тому вона містить сміття (тобто те значення, яке було у комірках пам'яті, виділених під неї до її створення). Те, що змінні містять сміття, може бути цілком прийнятним, якщо ми одразу введемо їхні значення з клавіатури, але в інших випадках може бути небажаним.</p>

<p>Якщо ви хочете ініціалізувати значення змінної, використовуйте синтаксис:</p>

<p><code><em>тип_змінної ім'я_змінної </em>=<em> початкове_значення</em>;</code></p>

<p>Наприклад, при оголошенні точки у просторі з цілими координатами можна записати</p>

<p><code><strong>int </strong>x = 0, y = 0, z = 0;</code></p>

<p>Це позначатиме, що спочатку точка знаходиться у центрі координат (у процесі роботи програми можна буде змінити координати точки). </p>

<p>Якщо ви хочете обчислити значення певної змінної за формулою, то краще зробити це під час ініціалізації цієї змінної. Нехай у нас є три змінні, що позначають коефіцієнти <code>a</code>, <code>b</code> і <code>c</code> квадратного рівняння <span class="math-tex">\(ax^2+bx+c=0\)</span>:</p>

<pre><code class="language-cpp">double a, b, c;</code></pre>

<p>Припустимо, що ми задали їм значення якимось чином, наприклад, ввели з клавіатури, і хочемо розв'язати квадратне рівняння. Першим кроком буде підрахувати дискримінант рівняння за формулою <span class="math-tex">\(D = b^2 - 4ac\)</span>. Звісно, можна оголосити, а потім присвоїти змінній <code>D</code> так: </p>

<pre><code>double D;
D = b * b - 4 * a * c;</code></pre>

<p>Але набагато краще написати це через ініціалізацію змінної </p>

<pre><code>double D = b * b - 4 * a * c;</code></pre>

<p>Це й коротше, і, що найголовніше, надійніше – ми не забудемо присвоїти змінній <code>D</code> її значення. </p>

<p>У цьому випадку не виникає спокуси написати конструкцію довшою та менш красиво. Але подивимося на два фрагменти:</p>

<table border="1" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td>
			<pre>
<code class="language-cpp">double a, b, c, D;

cin &gt;&gt;a &gt;&gt;b &gt;&gt;c;

D = b * b - 4 * a * c;</code></pre>
			</td>
			<td>
			<pre>
<code class="language-cpp">double a, b, c;

cin &gt;&gt;a &gt;&gt;b &gt;&gt;c;

double D = b * b - 4 * a * c;</code></pre>
			</td>
		</tr>
	</tbody>
</table>

<p> Конструкція <code>cin &gt;&gt;a &gt;&gt;b &gt;&gt;c;</code> позначає введення значень змінних <code>a</code>, <code>b</code>, <code>c</code> з клавіатури.</p>

<p>Тут уже не так очевидно, який варіант кращий, лівий навіть трохи коротший буде. Який варіант кращий на вашу думку?</p>

<p>На мою думку, все ж таки кращий правий варіант. У лівому варіанті у першому рядку оголошено всі необхідні змінні. Ця шкідлива у сучасних версіях C++ звичка оголошувати всі змінні на початку може виробитися при переході з мови Pascal або з ранніх версій мови Сі – де це було необхідно робити. </p>

<p>Але в мові C++ <em>правило гарного стилю</em> говорить про те, що змінна має бути оголошена якомога ближче до місця її використання. Справді, давайте розмірковувати. Спочатку у нас з'являються три змінні <code>a</code>, <code>b</code>, <code>c</code>, потім ми вводимо їх з клавіатури, і лише тоді ми можемо обчислити дискримінант <code>D</code>. То навіщо ж взагалі оголошувати змінну <code>D</code> на початку, разом з <code>a</code>, <code>b</code>, <code>c</code>, якщо працювати з нею ми зможемо лише після введення значень <code>a</code>, <code>b</code>, <code>c</code> з клавіатури. </p>

<p>Таким чином, оголошуючи всі змінні в першому рядку, ви змушені робити одне з двох:</p>

<ol>
	<li>або заздалегідь обдумувати, які змінні будуть використовуватися в програмі, але навіщо? Що корисного це дасть?</li>
	<li>або коли зрозумієте, що вам потрібна змінна, переміщатися на початок блоку (на початок функції <code>main</code>, наприклад), щоб додати змінну до списку змінних, і потім повертатися на те місце програми, де ви були, і дописувати код... Навіщо так скакати по програмі, чи не простіше писати її послідовно у цьому випадку?</li>
</ol>

<p>А оголошення змінних якомога ближче до місця їх використання, і те, що вони будуть настільки локальними, наскільки це можливо (обмеження їх області видимості), призводить до позбавлення від щонайменше частини можливих помилок, коли ви намагаєтеся використати змінну в тому місці, де її не повинно бути, і спрощенню аналізу коду за рахунок більш компактного використання змінних (в ідеалі всі місця використання локальних, тимчасових змінних повинні вміщатися на одному екрані вихідного коду).</p>

