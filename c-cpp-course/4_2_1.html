<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
 <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
 <script>hljs.highlightAll();</script>

<h1>4. Условный оператор if</h1>

<p><strong>Синтаксис:</strong></p>

<p><code><strong>if </strong>(<em>выражение</em>) <em>оператор-1</em>; [<strong>else </strong><em>оператор-2</em>;]</code></p>

<p>Выполнение оператора <code><strong>if</strong></code> начинается с вычисления <em>выражения</em>.</p>

<p>Далее выполнение осуществляется по следующей схеме:</p>

<ul>
	<li>
	<p>если выражение истинно (т.е. отлично от 0), то выполняется <code><em>оператор-1</em></code>.</p>
	</li>
	<li>
	<p>если выражение ложно (т.е. равно 0),то выполняется <code><em>оператор-2</em></code>.</p>
	</li>
	<li>
	<p>если выражение ложно и отсутствует <code><em>оператор-2</em></code> (в квадратные скобки заключена необязательная конструкция), то выполняется следующий за <strong><code>if</code> </strong>оператор.</p>
	</li>
</ul>

<p>После выполнения оператора <strong><code>if</code> </strong>управление передается на следующий оператор программы, если последовательность выполнения операторов программы не будет принудительно нарушена использованием операторов перехода.</p>

<p>Оператор <strong><code>if</code> </strong>позволяет создавать <em>разветвленные алгоритмы</em>, которые предусматривают выбор маршрута выполнения программы в зависимости от истинности или ложности некоторых условий.</p>

<p>Выражение часто содержит операции отношения (сравнения) (<code>==</code>, <code>&gt;</code>, <code>&lt;</code> и т.д.) и логические операции (<code>||</code>, <code>&amp;&amp;</code>, <code>!</code>). Частой ошибкой является использование присваивания (<code>=</code>) вместо сравнения (<code>==</code>).</p>

<p>Если нужно выполнить не один, а несколько операторов при выполнении условия (или, наоборот, в блоке <strong><code>else</code></strong>, когда условие не выполнено) - необходимо использовать составной оператор.</p>

<p><strong>Пример</strong>:</p>

<pre><code class="language-cpp">if (x==0) i++; else {i--;x=-x;} x+=10;</code></pre>

<p>Если <code>x</code> равен нулю, то выполняется оператор-выражение <code>i++</code>, иначе выполняется составной оператор <code>{i--;x=-x;}</code>. В любом случае после этого выполняется оператор <code>x+=10</code>.</p>

<p>Приведенный выше пример абсолютно верен с точки зрения синтаксиса, но очень плохо оформлен - в одну строку. Лучше оформить его так:</p>

<pre><code class="language-cpp">if (x==0) 
{
    i++;
}
else 
{
    i--;
    x=-x;
}
x+=10;</code></pre>

<p><em>Совет профессионального программирования:</em> Обратите внимание - то, что внутри оператора <strong>if </strong>принято использовать составные операторы, т.е. фигурные скобки, в обязательном порядке, даже если нужен один оператор в этих фигурных скобках. Это минимизирует возможность совершения ошибок.</p>

<p>Условие <code>(x!=0)</code> можно кратко записать как <code>(x)</code>, а условие <code>(x==0)</code> – как <code>(!x)</code>. Но не делайте так, если <code>x</code> является по смыслу числом, а не логическим значением, иначе это сбивает программиста с толку.</p>

<p>С другой стороны, если значение некой переменной <code>flag</code> является логическим (либо переменная типа <strong>bool</strong>, либо переменная целого типа в языке Си, но обозначающая логическое значение) - то не пишите <code><strong>if </strong>(flag == <strong>true</strong>)</code> или <code><strong>if </strong>(flag == 1)</code> или <code><strong>if </strong>(flag != 0)</code> - такая запись выдаст в Вас новичка в программировании, пишите <code><strong>if </strong>(flag)</code>, то же самое вместо <code><strong>if </strong>(flag == <strong>false</strong>)</code> или <code><strong>if </strong>(flag == 0)</code> пишите просто  <code><strong>if</strong> (!flag)</code>.</p>

<p>Отличия оператора <strong>if </strong>в C/C++ от оператора <strong>if</strong> языка Паскаль:</p>

<ul>
	<li>
	<p>выражение заключается в скобки;</p>
	</li>
	<li>
	<p>нет ключевого слова <strong>then</strong>;</p>
	</li>
	<li>
	<p>перед <strong>else </strong>ставится точка с запятой, если <em>оператор-1</em> не составной.</p>
	</li>
</ul>

<p><em>Оператор-1</em> и <em>оператор-2</em> могут быть любыми операторами, в том числе составным оператором или операторами <strong>if</strong>. Последний случай называется <em>вложенными операторами</em> <strong>if</strong>. Чтобы сделать программу более читабельной, рекомендуется группировать операторы и конструкции во вложенных операторах <strong>if</strong>, используя фигурные скобки. Если же фигурные скобки опущены, то компилятор связывает каждое ключевое слово <strong>else </strong>с наиболее близким <strong>if</strong>, для которого нет <strong>else</strong>. Кроме того, операторы внутри <strong>if</strong>, как и внутри других сложных операторов, желательно выделять отступами.</p>

<p><strong>Пример. </strong>Давайте попробуем вывести сообщение об ошибке, если некоторое значение <code>value</code> либо слишком большое (больше 10), либо слишком маленькое (меньше 1).</p>

<pre><code>if (value&gt;=1)
    if (value&gt;10) printf (“Error: value &gt;10\n”);
else printf (“Error: value &lt;1\n”);</code></pre>

<p>Этот пример работает неправильно, выдавая сообщение <code>"Error: value &lt;1\n”</code> для <code>value</code> от 1 до 10, так как <strong>else</strong> относится ко второму <strong>if</strong>, а не к первому, как мы хотели (ключевое слово <strong>else</strong> связывается с наиболее близким <strong>if)</strong>. Проблема возникла, так как мы не поставили фигурные скобки. Так что это ещё один довод ставить фигурные скобки в любом случае. Расстановка отступа здесь только сбивает программиста с толку, так как, в отличии от Python, отступ не влияет на процесс компиляции. Явная расстановка всех скобок, конечно же, решает проблему:</p>

<pre><code class="language-cpp">if (value&gt;=1)
{
    if (value&gt;10) 
    {
        printf (“Error: value &gt;10\n”);
    }
}
else
{
    printf (“Error: value &lt;1\n”);
}</code></pre>

<p>Итак, теперь четко видно, что оператор, начинающийся с <code><strong>if </strong>(value&gt;10)</code> лежит внутри оператора <code><strong>if </strong>(value&gt;=1)</code>. Это как раз и является примером вложенных операторов <code><strong>if</strong></code>.</p>

<p>Впрочем, проблемы с корректностью написания данного оператора связаны с тем, что он написан явно не оптимальным образом, гораздо лучше использовать более простую эквивалентную конструкцию, которая укажет о наличии ошибки при выходе значения за диапазон от 1 до 10:</p>

<pre><code>if (value &lt; 1)
{
    printf (“Error: value &lt;1\n”);
}
else if (value &gt; 10) 
{
    printf (“Error: value &gt;10\n”);
}
</code></pre>

<p>Как Вы видите конструкция стала проще - что уменьшает вероятность ошибок. По возможности старайтесь избегать большой степени вложенности операторов <strong>if</strong>. </p>