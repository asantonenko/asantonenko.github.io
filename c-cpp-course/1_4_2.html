<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

<p>Давайте переробимо наш калькулятор так, щоб він розраховував не всі 4 арифметичні операції одразу, а ту операцію, яку запросив користувач. Для цього додатково будемо вводити з клавіатури символ операції, який будемо зберігати у змінній типу <strong><code>char</code></strong>.</p>

<p>Отже, почнемо з такої заготовки:</p>

<pre><code class="language-cpp">int main()          //основна функція програми
{                   //початок основного блоку
    double x, y;    //дві дійсні змінні
    char operation; //символьна змінна, яка зберігає знак операції

    //Тут буде решта програми

    return 0;     //повідомляємо, що програма успішно завершила свою роботу
}                 //кінець основного блоку</code></pre>

<p>Введемо всі три змінні з клавіатури (при введенні їх можна розділяти пробілом, а можна і не розділяти):</p>

<pre><code class="language-cpp">#include &lt;iostream&gt;  //заголовковий файл для введення та виведення

using namespace std; //використовуємо простір імен std

int main()        
{                 
    double x, y;  
    char operation;

    cout &lt;&lt; "Введіть рядок виду \"число операція число\":" &lt;&lt; endl; //Виводимо підказку
    cin &gt;&gt; x &gt;&gt; operation &gt;&gt; y;                                     //Вводимо значення з клавіатури

    //Тут буде решта програми

    return 0;     
}</code></pre>

<p>Як завжди, коментарі вказані лише для нових рядків. Зверніть увагу, що ми захотіли, щоб у поясненні для користувача були присутні символи лапок. Для цього ми включили їх у рядок, але оскільки подвійні лапки мають особливе значення (вказують початок і кінець рядкової константи), то для вказівки звичайних подвійних лапок у рядку потрібно записати комбінацію <code>\"</code>. Початок протоколу виконання програми виглядатиме так:</p>

<pre><code class="language-no-highlight">Введіть рядок виду "число операція число":
2 + 2</code></pre>

<p>При цьому перший рядок друкує сама програма (тобто комп’ютер), і він завжди однаковий, а другий рядок із клавіатури вводить людина – вона може ввести що завгодно, навіть щось зовсім некоректне, але за логікою програми має ввести число, потім символ операції (<code>+</code>, <code>-</code>, <code>*</code> або <code>/</code>) і потім ще одне число.</p>

<p>Далі так просто вже не вийде. Ми не можемо виконувати одну фіксовану послідовність операторів у будь-якому випадку. Виконувані дії повинні залежати від вибору користувача – а точніше, від того, яку операцію він обере. Такі програми, коли залежно від певних умов обирається одна або інша гілка виконання, називаються <em>розгалуженими</em>. Для них потрібно використовувати оператори розгалуження (детально описані у <a href="4_2.html" rel="noopener noreferrer nofollow">відповідному розділі курсу</a>). У цьому випадку зручніше використовувати оператор розгалуження <strong><code>switch</code></strong>.</p>

<pre><code class="language-cpp">#include &lt;iostream&gt; 

using namespace std; 

int main()        
{                 
    double x, y;  
    char operation;

    cout &lt;&lt; "Введіть рядок виду \"число операція число\":" &lt;&lt; endl; 
    cin &gt;&gt; x &gt;&gt; operation &gt;&gt; y;                                      

    double result;  //змінна для результату виконання операції
    
    switch (operation) //залежно від використаної операції
    {
        case '+': result = x + y; break; //результат дорівнює сумі, якщо operation дорівнює '+'
        case '-': result = x - y; break; //результат дорівнює різниці, якщо operation дорівнює '-'
        case '*': result = x * y; break; //результат дорівнює добутку, якщо operation дорівнює '*'
        case '/': result = x / y; break; //результат дорівнює частці, якщо operation дорівнює '/'
        default:  result = 0; //у випадку, коли вказано іншу операцію, присвоїмо результату 0
    }

    //Тут буде решта програми

    return 0;     
}</code></pre>

<p>Поки що не буду повністю пояснювати синтаксис оператора <strong><code>switch</code></strong> (це буде зроблено в розділі <a href="4_2_4.html" rel="noopener noreferrer nofollow">"Оператор switch"</a>), зазначу лише, що при коректному виборі операції (тобто, якщо введете символ <code>+</code>, <code>-</code>, <code>*</code> або <code>/</code>) результат буде обчислений як сума, різниця, добуток або частка чисел <code>x</code> та <code>y</code>, 
інакше результату буде присвоєно значення <code>0</code> - що не зовсім правильно з точки зору функціонування програми, 
але в цьому випадку цей момент свідомо спрощено – ми лише на початку курсу. Також треба відмітити, що не вистачає перевірки спроби ділення на нуль - можете дослідним шляхом переконатися що трапиться при цій спробі. Для цієї перевірки також краще було би використати оператор розгалуження, але ми не будемо ускладнювати програму.
Зазначимо, що рядки в мовах С/C++ потрібно вказувати у подвійних лапках, тоді як символи – в одинарних (наприклад, <code>'+'</code>, <code>'-'</code>, <code>'*'</code> або <code>'/'</code>).</p>

<p>Залишилося лише красиво вивести результат застосування операції.</p>

<pre><code class="language-cpp">#include &lt;iostream&gt; 

using namespace std; 

int main()        
{                 
    double x, y;  
    char operation;

    cout &lt;&lt; "Введіть рядок виду \"число операція число\":" &lt;&lt; endl; 
    cin &gt;&gt; x &gt;&gt; operation &gt;&gt; y;                                      

    double result;  
    
    switch (operation) 
    {
        case '+': result = x + y; break; 
        case '-': result = x - y; break; 
        case '*': result = x * y; break; 
        case '/': result = x / y; break; 
        default:  result = 0; 
    }

    cout &lt;&lt; x &lt;&lt; " " &lt;&lt; operation &lt;&lt; " " &lt;&lt; y &lt;&lt; " = " &lt;&lt; result &lt;&lt; endl; //Друкуємо результат

    return 0;     
}</code></pre>

<p>Перевірити роботу цієї програми (або побачити програму цілком із коментарями для кожного рядка тексту) можна за адресою: <a href="https://onlinegdb.com/1dtcnoWrB" rel="noopener noreferrer nofollow" target="_blank">https://onlinegdb.com/1dtcnoWrB</a>.</p>