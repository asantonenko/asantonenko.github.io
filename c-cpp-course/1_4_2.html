<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
 <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
 <script>hljs.highlightAll();</script>

<p>Давайте переделаем наш калькулятор так, что бы он рассчитывал не все 4 арифметические операции сразу, а ту операцию, которую запросил пользователь. Для этого дополнительно будем вводить с клавиатуры символ операции, который будем хранить в переменной типа <strong><code>char</code></strong>.</p>

<p>Итак, начнём с такой заготовки:</p>

<pre><code class="language-cpp">int main()        //основная функция программы
{                 //начало основного блока
    double x, y;  //две вещественные переменные
    char operation; //символьная переменная, которая хранит знак операции

    //Здесь будет остальная часть программы

    return 0;     //сообщаем, что программа успешно завершила работу
}                 //конец основного блока</code></pre>

<p>Введем все три переменные с клавиатуры (при вводе их можно разделять пробелом, можно и не разделять):</p>

<pre><code class="language-cpp">#include &lt;iostream&gt;  //заголовочный файл для ввода и вывода

using namespace std; //используем пространство std

int main()        
{                 
    double x, y;  
    char operation;

    cout &lt;&lt; "Введите строку вида \"число операция число\":" &lt;&lt; endl; //Выводим подсказку
    cin &gt;&gt; x &gt;&gt; operation &gt;&gt; y;                                      //Вводим значения с клавиатуры

    //Здесь будет остальная часть программы

    return 0;     
}</code></pre>

<p>Как всегда, комментарии указаны только для новых строк. Обратите внимание, что мы захотели, чтобы в пояснении пользователю присутствовали символы кавычек. Для этого мы включили их в строку, но так как двойные кавычки имеют особое значение (указание начала и конца строковой константы), то для указания обычной двойной кавычки в строке нужно записать комбинацию <code>\"</code>. Начало протокола выполнения программы будет выглядеть так:</p>

<pre><code class="language-no-highlight">Введите строку вида "число операция число":
2 + 2</code></pre>

<p>При этом первую строку печатает сама программа (т.е. компьютер), и она всегда одинакова, а вторую строку с клавиатуры вводит человек - он может ввести что угодно, даже нечто совсем некорректное, но по логике программы должен ввести число, затем символ операции (<code>+</code>, <code>-</code>, <code>*</code> или <code>/</code>) и затем еще одно число.</p>

<p>Дальше так просто уже не получится. Мы не можем выполнять одну фиксированную последовательность операторов в любом случае. Выполняемые действия должны зависеть от выбора пользователя - а, точнее, от того, какую операцию он выберет. Такие программы, когда в зависимости от некоторых условий будет выбрана одна или другая ветка выполнения, называются <em>разветвленными</em>. Для них нужно использовать операторы ветвления (подробно описаны в <a href="https://stepik.org/lesson/773546/" rel="noopener noreferrer nofollow">соответствующем разделе курса</a>). В данном случае удобнее использовать оператор ветвления <strong><code>switch</code></strong>.</p>

<pre><code class="language-cpp">#include &lt;iostream&gt; 

using namespace std; 

int main()        
{                 
    double x, y;  
    char operation;

    cout &lt;&lt; "Введите строку вида \"число операция число\":" &lt;&lt; endl; 
    cin &gt;&gt; x &gt;&gt; operation &gt;&gt; y;                                      

    double result;  //переменная для результата выполнения операции
    
    switch (operation) //в зависимости от использованной операции
    {
        case '+': result = x + y; break; //результат равен сумме, в случае operation, равной '+'
        case '-': result = x - y; break; //результат равен разности, когда operation равно   '-'
        case '*': result = x * y; break; //результат равен произведению, когда operation равно '*'
        case '/': result = x / y; break; //результат равен частному, когда operation равно '/'
        default:  result = 0; //в случае когда указана другая операция, присвоим результату 0
    }

    //Здесь будет остальная часть программы

    return 0;     
}</code></pre>

<p>Не буду полностью объяснять синтаксис оператора <strong><code>switch</code></strong> пока что (это будет сделано в шаге <a href="https://stepik.org/lesson/773546/step/4" rel="noopener noreferrer nofollow">"Оператор switch"</a>), отмечу лишь что при корректном выборе операции (т.е., если введете символ <code>+</code>, <code>-</code>, <code>*</code> или <code>/</code>) результат буден подсчитан как сумма, разность, произведение или частное чисел <code>x</code> и <code>y</code>, иначе результату будет присвоено значение <code>0</code> (что не совсем правильно, с точки зрения функционирования программы, но в данном случае этот момент сознательно упрощен – мы находимся только в начале курса). Заметим, что строки в языках C/C++ нужно указывать в двойных кавычках, тогда как символы в одинарных (например, <code>'+'</code>, <code>'-'</code>, <code>'*'</code> или <code>'/'</code>).</p>

<p>Осталось лишь красиво вывести результат применения операции.</p>

<pre><code class="language-cpp">#include &lt;iostream&gt; 

using namespace std; 

int main()        
{                 
    double x, y;  
    char operation;

    cout &lt;&lt; "Введите строку вида \"число операция число\":" &lt;&lt; endl; 
    cin &gt;&gt; x &gt;&gt; operation &gt;&gt; y;                                      

    double result;  
    
    switch (operation) 
    {
        case '+': result = x + y; break; 
        case '-': result = x - y; break; 
        case '*': result = x * y; break; 
        case '/': result = x / y; break; 
        default:  result = 0; 
    }

    cout &lt;&lt; x &lt;&lt; " " &lt;&lt; operation &lt;&lt; " " &lt;&lt; y &lt;&lt; " = " &lt;&lt; result &lt;&lt; endl; //Печатаем результат

    return 0;     
}</code></pre>

<p>Проверить работу данной программы (или увидеть программу целиком с комментариями для каждой строки текста) можно по адресу: <a href="https://onlinegdb.com/Sv3edq1wj" rel="noopener noreferrer nofollow"  target="_blank">https://onlinegdb.com/Sv3edq1wj</a>.</p>