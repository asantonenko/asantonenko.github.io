<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
 <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
 <script>hljs.highlightAll();</script>
<p>Наведемо приклади роботи з рядками в стилі C.  </p>

<p>Перший спосіб – це посимвольна робота. При цьому нам не потрібно використовувати жодні специфічні заголовні файли. Наприклад, нам потрібно отримати ініціали людини:</p>

<pre><code>#include &lt;stdio.h&gt;

int main()
{
   const char * name = "Vasyl";
   const char * middle_name = "Petrovych";
   char result [6]; 
   //Потрібно сформувати 6 символів: перша літера імені, точка, пробіл,
   //перша буква по-батькові, точка, нуль символ
   result[0] = name[0];
   result[1] = '.';
   result[2] = ' ';
   result[3] = middle_name[0];
   result[4] = '.';
   result[5] = '\0'; //не забуваємо нуль символ наприкінці
   printf("%s\n", result); //друкуємо відповідь
   return 0;
}
   </code></pre>

<p>або потрібно порахувати кількість цифр у рядку:</p>

<pre><code>#include &lt;stdio.h&gt;

int main()
{
   const char * str = "123+100=223";
   int count = 0; //ініціалізуємо лічильник нулем
   for (int i = 0; str[i] != '\0'; i++)
   {
       if (str[i] &gt;= '0' &amp;&amp; str[i] &lt;= '9') //якщо str[i] - це цифра (від '0' до '9')
       {
            count++;
       }
   }
   printf("%d\n", count); //друкуємо відповідь
   return 0;
}
   </code></pre>

<p>Робота з рядками через індекси найуніверсальніша - так можна працювати і з Сі-рядками, і з C++-рядками (класу string). Так можна працювати і в інших мовах, таких як Pascal, Basic або PHP, або, з деякими обмеженнями, в мовах C# і Java.</p>

<p>Замість числового індексу для обробки саме Сі-рядків можна використовувати вказівники на символ. Так можна отримати компактніший запис коду. Попередній приклад із кількістю цифр можна переписати у вигляді:</p>

<pre><code class="language-cpp">#include &lt;stdio.h&gt;

int main()
{
   const char * str = "123+100=223";
   int count = 0; //ініціалізуємо лічильник нулем
   for (const char * ptr = str; *ptr != '\0'; ptr++) //ptr - вказівник на поточний символ
   {
       if (*ptr &gt;= '0' &amp;&amp; *ptr &lt;= '9') //якщо ptr вказує на цифру (від '0' до '9')
       {
            count++;
       }
   }
   printf("%d\n", count); //друкуємо відповідь
   return 0;
}
   </code></pre>

<p>Зазначу, що використання вказівника на константні символи (<code><strong>const char</strong>*</code>) у цьому прикладі важливо, оскільки ми повинні не мати можливість змінити рядкову константу. Втім, у перших версіях мови C не було можливості створювати покажчик на константні символи (взагалі не було модифікатора <strong><code>const</code></strong>), тому без даного модифікатора код теж буде працювати в мові C (з міркувань зворотної сумісності).</p>

<p>При цьому код можна ще трохи спростити, згадавши про існування стандартної функції перевірки на те, що символ є цифрою <code>isdigit</code>, а також того, що порівнювати символ вручну з <code>'\0'</code> необов'язково, числове значення вважається істинним, коли воно не дорівнює нулю, що для символу позначає символ вважається істинним, якщо це не нуль-символ. Отримаємо наступний код:</p>

<pre><code class="language-cpp">#include &lt;stdio.h&gt;  //для функції printf
#include &lt;ctype.h&gt;  //для функції isdigit

int main()
{
   const char * str = "123+100=223";
   int count = 0; //ініціалізуємо лічильник нулем
   for (const char * ptr = str; *ptr; ptr++) //ptr - указатель на текущий символ
   {
       if (isdigit(*ptr)) //якщо ptr вказує на цифру (від '0' до '9')
       {
            count++;
       }
   }
   printf("%d\n", count); //друкуємо відповідь
   return 0;
}
   </code></pre>

<p>Нам знадобилося підключити заголовний файл <code>ctype.h</code> (<code>cctype</code> у C++), хоча заголовний файл <code>string.h</code> нам як і раніше в цьому способі не потрібний.</p>

<p>Другий спосіб - це використання стандартних функцій із заголовного файлу <code>string.h</code>/<code>csting</code>. Як Ви знаєте, ці функції працюють виключно з рядками в C-стилі, тобто нуль-термінованими рядками. Іншими словами, функції приймають рядки типу <code><strong>char</strong>*</code> (коли не потрібна зміна рядків, то функції приймають <code><strong>const char</strong>*</code>  ).</p>