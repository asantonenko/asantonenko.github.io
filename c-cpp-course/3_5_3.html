<p><em>Раздел повышенного уровня, необязательный для первоначального прохождения курса.</em></p>

<p>При помощи сочетания арифметических и поразрядных операций можно решать и более сложные задачи, получая очень короткие и очень эффективные по производительности решения (впрочем, такой код может выглядеть несколько загадочно). </p>

<p>Напомним значения переменных, приведенные в примерах:</p>

<pre><code class="language-cpp">int x = 50, y = 100;

//в двоичном виде x = 0000 0000 0000 0000 0000 0000 0011 0010 = 2^5 + 2^4 + 2^1 = 32 + 16 + 2
//в двоичном виде y = 0000 0000 0000 0000 0000 0000 0110 0100 = 2^6 + 2^5 + 2^2 = 64 + 32 + 4</code></pre>

<p>5. Убрать младший бит из установленных. </p>

<pre><code class="language-cpp">x = x &amp; (x - 1);</code></pre>

<p>или более кратко   </p>

<pre><code class="language-cpp">x &amp;= x - 1;</code></pre>

<p>Пример: </p>

<pre><code>  x    = 0000 0000 0000 0000 0000 0000 0011 0010  (число x)
  &amp;
x - 1  = 0000 0000 0000 0000 0000 0000 0011 0001  (число x - 1)
         =======================================
         0000 0000 0000 0000 0000 0000 0011 0000  (число x без младшего бита)


  y    = 0000 0000 0000 0000 0000 0000 0110 0100  (число y)
  &amp;
y - 1  = 0000 0000 0000 0000 0000 0000 0110 0011  (число y - 1)
         =======================================
         0000 0000 0000 0000 0000 0000 0110 0000  (число y без младшего бита)


  0    = 0000 0000 0000 0000 0000 0000 0000 0000  (0)
  &amp;
0 - 1  = 1111 1111 1111 1111 1111 1111 1111 1111  (-1)
         =======================================
         0000 0000 0000 0000 0000 0000 0000 0000  (0 не изменился)</code></pre>

<p>6. Выделить младший бит из установленных.  </p>

<pre><code class="language-cpp">x = x &amp; (~x + 1);</code></pre>

<p>или более кратко   </p>

<pre><code class="language-cpp">x &amp;= ~x + 1;</code></pre>

<p>Пример:</p>

<pre><code>  x     = 0000 0000 0000 0000 0000 0000 0011 0010  (исходное число x)
  &amp;
(~x+1)  = 1111 1111 1111 1111 1111 1111 1100 1110  
          =======================================
          0000 0000 0000 0000 0000 0000 0000 0010  (выделили младший бит числа x)

  y     = 0000 0000 0000 0000 0000 0000 0110 0100  (исходное число y)
  &amp;
(~y+1)  = 1111 1111 1111 1111 1111 1111 1001 1100  
          =======================================
          0000 0000 0000 0000 0000 0000 0000 0100  (выделили младший бит числа y)

  0     = 0000 0000 0000 0000 0000 0000 0000 0000  (0)
  &amp;
(~0+1)  = 0000 0000 0000 0000 0000 0000 0000 0000  (0)  
          =======================================
          0000 0000 0000 0000 0000 0000 0000 0000  (0, так как в нуле нет бит вообще)</code></pre>

<p>Литература: </p>

<p>1. Побитовые операции — Викиконспекты Университета ИТМО <a href="https://neerc.ifmo.ru/wiki/index.php?title=%D0%9F%D0%BE%D0%B1%D0%B8%D1%82%D0%BE%D0%B2%D1%8B%D0%B5_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8" rel="noopener noreferrer nofollow">https://neerc.ifmo.ru/wiki/index.php?title=Побитовые_операции</a> </p>